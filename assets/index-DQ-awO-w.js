import{r as c,j as t,x as I}from"./react-CvR-uKN7.js";import{a as j,b as A,u as x,c as b,e as p,S as B}from"./index-DU2HskCO.js";import{P as g,B as h,i as T,b as E,c as m,I as C,l as D,m as L,e as S,L as w,a as K}from"./mui-NliH6qLM.js";import"./vendor-kV9GpcYC.js";import"./firebase-BJdrnZPM.js";const F=({placeholder:n="Add Todo",buttonProps:e={buttonText:"Add"}})=>{const[a,s]=c.useState(""),r=j(),u=()=>{a.trim()&&(r(A({title:a,checked:!1})),s(""))},d=l=>{l.key==="Enter"&&u()};return t.jsx(g,{style:{padding:"16px",margin:"15px 0"},children:t.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(T,{variant:"outlined",fullWidth:!0,placeholder:n,value:a,onChange:l=>s(l.target.value),onKeyDown:d,size:"small"}),t.jsx(E,{variant:"contained",color:"primary",onClick:u,sx:{minWidth:"100px"},children:e.buttonText})]})})},P=c.memo(({id:n})=>{const e=x(o=>o.todos.todos.find(i=>i.id===n),(o,i)=>(o==null?void 0:o.checked)===(i==null?void 0:i.checked)&&(o==null?void 0:o.title)===(i==null?void 0:i.title)),[a,s]=c.useState(!1),[r,u]=c.useState(e==null?void 0:e.title),d=j();if(!e)return null;const l=()=>{s(!1)},f=async()=>{d(p({...e,title:r||""})),s(!1)},y=o=>{o.key==="Enter"&&f()},k=()=>{d(p({...e,checked:!e.checked}))};return t.jsx("div",{children:a?t.jsx(m,{children:t.jsx(h,{sx:{display:"flex",alignItems:"center",gap:2,marginLeft:"28px"},children:t.jsx(T,{type:"text",onBlur:l,value:r,onChange:o=>u(o.target.value),onKeyDown:y,size:"small"})})}):t.jsxs(m,{secondaryAction:t.jsx(C,{edge:"end","aria-label":"delete",onClick:()=>d(b(e.id)),children:t.jsx(D,{})}),children:[t.jsx(L,{checked:e.checked,onClick:()=>k()}),t.jsx(S,{onDoubleClick:()=>s(!0),primary:e.title})]})})}),W=()=>{const n=x(s=>s.todos.todos,I),e=c.useMemo(()=>n.map(s=>s.id),[n]);return x(s=>s.todos.loading)?t.jsx("p",{children:"Loading..."}):t.jsx(g,{style:{padding:"16px"},children:t.jsx(w,{children:e.map(s=>t.jsx("li",{children:t.jsx(P,{id:s})},s))})})},z=()=>t.jsxs(t.Fragment,{children:[t.jsx(K,{variant:"h4",align:"center",gutterBottom:!0,children:"Todo App"}),t.jsx(h,{children:t.jsx(W,{})}),t.jsx(h,{children:t.jsx(F,{})})]}),Y=()=>{const n=x(e=>e.auth.user);return t.jsxs(t.Fragment,{children:[t.jsx(B,{title:"Головна | Todo App",description:"Організуйте свої завдання ефективно!",url:"https://yourdomain.com/"}),t.jsx("div",{children:n?t.jsx(z,{}):t.jsx("div",{children:"You must log in"})})]})};export{Y as default};
